
molecule{ 
0 1
 C   -2.025232697504   -0.196820305082    0.358068941172
 O   -2.179691628154   -0.071956239057    1.549586104234
 O   -2.724311173849   -0.145618794226   -0.701292182435
 N   -0.624105719619   -0.451865634995   -0.307614993256
 H   -1.259627077895   -0.298003699066   -1.196719694204
 H   -0.338760299353   -1.434806398986   -0.221616668959
 C    0.478017634536    0.433524876955    0.117145543422
 H    0.367392590836    0.576479602713    1.203230318541
 C    1.792471012524   -0.309042575128   -0.092931904384
 O    1.874535867907   -1.488414296471   -0.367352390607
 O    2.861395191279    0.485464007916    0.098436199785
 H    3.658319001411   -0.058891823517   -0.008757979671
 C    0.406188046922    1.791757776972   -0.585893508529
 H   -0.561172968375    2.262982586638   -0.386655182922
 H    1.194547379163    2.451472863587   -0.217030777295
 H    0.521633309150    1.676932165476   -1.669124144430
}

set basis 6-31+G*
set_num_threads(16)
e, wfn = properties('mp2', return_wfn=True)

d = wfn.Da().to_array()
s = wfn.S().to_array()
c = wfn.Ca().to_array()
occs = c.T.dot(s.dot(d).dot(s).dot(c))

molden(wfn, 'mp2.molden', density_a = psi4.core.Matrix.from_array(occs))
